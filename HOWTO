#https://kernelnewbies.org/Outreachyfirstpatch
#https://bootlin.com/doc/training/linux-kernel/linux-kernel-slides.pdf
#https://gist.github.com/vegard/22200a9f91af138a99ae22a9b814a9a4

make defconfig
make menuconfig
make -j16
sudo make modules_install
mkinitcpio --generate customImage.img
qemu-system-x86_64 -kernel arch/x86/boot/bzImage -nographic -initrd customImage.img -append "console=ttyS0" -m 512 --enable-kvm -cpu host
insmod lib/modules/6.4.0-rc5-g87dc918c43d5-dirty/kernel/drivers/usb/serial/guimog.ko whom="you" howmany=10
rmmod guimog
modprobe guimog whom="you" howmany=10
modprobe -r